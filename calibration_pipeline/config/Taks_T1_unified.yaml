# Taks_T1 标定配置 - FIGAROH 统一格式

robot:
  name: "Taks_T1"
  description: "全身人形机器人"
  
  properties:
    joints:
      active_joints: [
        "left_hip_pitch_joint", "left_hip_roll_joint", "left_hip_yaw_joint",
        "left_knee_joint", "left_ankle_pitch_joint", "left_ankle_roll_joint",
        "right_hip_pitch_joint", "right_hip_roll_joint", "right_hip_yaw_joint",
        "right_knee_joint", "right_ankle_pitch_joint", "right_ankle_roll_joint",
        "waist_yaw_joint", "waist_roll_joint", "waist_pitch_joint",
        "left_shoulder_pitch_joint", "left_shoulder_roll_joint",
        "left_shoulder_yaw_joint", "left_elbow_joint",
        "left_wrist_roll_joint", "left_wrist_yaw_joint", "left_wrist_pitch_joint",
        "right_shoulder_pitch_joint", "right_shoulder_roll_joint",
        "right_shoulder_yaw_joint", "right_elbow_joint",
        "right_wrist_roll_joint", "right_wrist_yaw_joint", "right_wrist_pitch_joint",
        "neck_yaw_joint", "neck_roll_joint", "neck_pitch_joint",
      ]

tasks:
  calibration:
    enabled: true
    
    parameters:
      calibration_level: "full_params"
      include_non_geometric: false
      regularization_coefficient: 0.001
      outlier_threshold: 0.03  # 3cm (全身机器人更大)
      
    kinematics:
      base_frame: "pelvis"
      tool_frame: "left_ankle_roll_link"
      
    measurements:
      markers:
        - name: "left_foot_marker"
          reference_joint: "left_ankle_roll_joint"
          measurable_dof: [true, true, true, false, false, false]
          sensor_type: "mocap"
          
      poses:
        base_pose: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
        tool_pose: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
    
    data:
      source_file: "data/Taks_T1/measurements.csv"
      sample_configurations_file: "data/Taks_T1/candidate_poses.csv"
      number_of_samples: 30

  optimal_configuration:
    enabled: true
    
    parameters:
      number_of_samples: 50
      soft_limit_ratio: 0.65
      
    constraints:
      joint_limit_margin: 0.05
      collision_checking: false
      
    output:
      output_file: "data/Taks_T1/optimal_configs.yaml"

collection:
  settle_time: 2.5
  move_timeout: 8.0

environment:
  working_directory: "."
  data_directory: "data"
  results_directory: "results"
